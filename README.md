# TEAM-1-CLIENT

## Эндпойнты (пользователь)


#### Регистрация пользователя
###### Http запрос
```POST /users-rest/new```
###### Тело запроса
```User``` - регистрационные данные пользователя. Пример:
```
{
  "username": "user1",
  "password": "qwerty",
  "balance": "0.0"
}
```


#### Получение списка всех пользователей
###### Http запрос
```GET /users-rest/all```
###### Возвращаемое значение
```User[] getAllUsers``` - список всех пользователей


#### Вход пользователя
###### Http запрос
```POST /users-rest/login```
###### Тело запроса
```User``` - регистрационные данные пользователя. Пример:
```
{
  "username": "user1",
  "password": "qwerty"
}
```


#### Выход пользователя
###### Http запрос
```POST /users-rest/{userId}/logout```
###### Переменные пути
```UUID userId``` - id пользователя


#### Пополнение баланса
###### Http запрос
```POST /users-rest/{userId}/top-up```
###### Переменные пути
```UUID userId``` - id пользователя
###### Параметры запроса
```BigDecimal amount``` - сумма пополнения


#### Удаление пользователя
###### Http запрос
```DELETE /users-rest/{userId}```
###### Переменные пути
```UUID userId``` - id пользователя


## Эндпойнты (игрок)


#### Создание игрока
###### Http запрос
```POST /players-rest/new```
###### Тело запроса
```Player``` - данные игрока. Пример:
```
{
  "name": "player0",
  "userId": "00000000-0000-0000-0000-000000000000"
}
```


#### Получение списка всех игроков
###### Http запрос
```GET /players-rest/all```
###### Возвращаемое значение
```Player[] getAllPlayers``` - список всех игроков


#### Вступление игрока в команду
###### Http запрос
```POST /{playerId}/join-team/{teamId}```
###### Переменные пути
```UUID playerId``` - id игрока
```UUID teamId``` - id команды


#### Создание команды игроком
###### Http запрос
```POST /{playerId}/new-team```
###### Переменные пути
```UUID playerId``` - id игрока
###### Тело запроса
```Team``` - данные команды. Пример:
```
{
  "name": "team1"
}
```


#### Удаление игрока
###### Http запрос
```DELETE /players-rest/{playerId}```
###### Переменные пути
```UUID playerId``` - id пользователя


## Эндпойнты (команда)


#### Получение списка всех команд
###### Http запрос
```GET /teams-rest/all```
###### Возвращаемое значение
```Team[] getAllTeams``` - список всех команд


#### Получение команды по id
###### Http запрос
```GET /teams-rest/{teamId}```
###### Переменные пути
```UUID teamId``` - id команды
###### Возвращаемое значение
```Team getTeamById``` - команда


#### Удаление команды
###### Http запрос
```DELETE /teams-rest/{teamId}```
###### Переменные пути
```UUID teamId``` - id команды


## Сущности


### User
| Поле | Описание |
| - | - |
| ```UUID id``` | id пользователя |
| ```String username``` | имя пользователя |
| ```UUID creatorID``` | пароль пользователя |
| ```BigDecimal balance``` | баланс пользователя |
| ```Set<Role> roles``` | роли авторизации ```[ UNAUTHORIZED_USER, AUTHORIZED_USER ]``` |
| ```Boolean active``` | совершен ли вход в аккаунт |

### Player
| Поле | Описание |
| - | - |
| ```UUID id``` | id игрока |
| ```UUID userId``` | id пользователя |
| ```String name``` | имя игрока |
| ```Set<Team> teams``` | команды, в которых состоит игрок |
| ```PlayerStatistics playerStatistics``` | статистика игрока |


### Team
| Поле | Описание |
| - | - |
| ```UUID id``` | id команды |
| ```String name``` | название команды |
| ```UUID creatorID``` | id создателя |
| ```Set<Player> players``` | игроки в команде |


## Шаги запуска приложения:
1. В консоли перейти в каталог с файлом docker-compose.yml
2. Ввести в консоль команды:
    - docker network create net
    - docker-compose up --build
3. Открыть страницу по адресу ```http://127.0.0.1:8080```, где будет доступно приложение

#### Примечания:
- Для работы приложения нужен Docker
- Если в Docker уже активен контейнер с postgresql, то остановить его
- Если порт 8080 занят, то остановить на нем процесс